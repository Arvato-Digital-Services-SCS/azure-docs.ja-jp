---
title: フィーチャー - LUIS
description: フィーチャーを言語モデルに追加することで、ラベル付けまたは分類する必要がある入力を認識する方法についてのヒントが提供されます。
ms.topic: conceptual
ms.date: 05/14/2020
ms.openlocfilehash: c4f19ceed2e48f3f6ec2ed0958bccb7a85cff44f
ms.sourcegitcommit: 493b27fbfd7917c3823a1e4c313d07331d1b732f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/21/2020
ms.locfileid: "83742711"
---
# <a name="machine-learning-ml-features"></a>Machine learning (ML) の特徴

機械学習の **特徴** とは、お使いのシステムによって順守される、データの特徴的な特性または属性です。

機械学習の特徴は、LUIS にとって、概念を区別するものをどこで探すかに関する重要な手がかりとなります。 これらは LUIS に使用できるヒントですが、厳密な規則ではありません。  これらのヒントは、データを検索するためにラベルと組み合わせて使用されます。

 LUIS は、フレーズ リストと他のエンティティの使用の両方を特徴としてサポートしています。
* フレーズ リストの特徴
* 特徴としてのモデル (意図またはエンティティ)

特徴は、スキーマ設計の必要な部分と考える必要があります。

## <a name="a-phrase-list-for-a-particular-concept"></a>特定の概念のフレーズ リスト

フレーズ リストは、特定の概念をカプセル化する単語またはフレーズのリストです。

フレーズ リストを追加すると、特徴を次のように設定できます。
* **[グローバル](#global-features)** 。 グローバル特徴はアプリ全体に適用されます。

### <a name="when-to-use-a-phrase-list"></a>語句一覧を使用する条件

LUIS アプリで概念の新しい項目を一般化して識別できるようにする必要がある場合は、フレーズ リストを使用します。 フレーズ リストはドメイン固有のボキャブラリのようなもので、意図とエンティティの両方の解釈の質を高めるうえで役に立ちます。

### <a name="how-to-use-a-phrase-list"></a>語句一覧の使用方法

LUIS では、語句一覧を使ってコンテキストの検討と一般化が行われ、類似しているが完全なテキスト一致ではない項目が識別されます。

フレーズ リストを使用する手順:
* 機械学習エンティティから始める
    * 発話の例を追加する
    * 機械学習エンティティを使用してラベルを付ける
* フレーズ リストを追加する
    * 似た意味を持つ単語を追加します。考えられるすべての単語やフレーズは追加**しないでください**。 代わりに、一度にいくつかの単語または語句を追加してから、再トレーニングと公開を行ってください。
    * 提案された単語を確認して追加する

### <a name="a-typical-scenario-for-a-phrase-list"></a>フレーズ リストの一般的なシナリオ

フレーズ リストの一般的なシナリオは、特定のアイデアに関連する単語をブーストすることです。

重要度をブーストするためにフレーズ リストが必要になる可能性がある単語の例として、医学用語があります。 用語は、特定の物理的、化学的、治療的、または抽象的な意味を持つ可能性があります。 フレーズ リストがないと、LUIS では対象ドメインにとってその用語が重要であることを判断できません。

医学用語を抽出する場合:
* 最初に発話の例を作成し、それらの発話内の医学用語にラベルを付けます。
* 次に、対象ドメイン内の用語の例を含むフレーズ リストを作成します。 このフレーズ リストには、ラベルを付けた実際の用語と、同じ概念を説明する他の用語を含める必要があります。
* フレーズ リストで使用される概念を抽出するエンティティまたはサブエンティティに、フレーズ リストを追加します。 最も一般的なシナリオは、機械学習エンティティのコンポーネント (子) です。 フレーズ リストをすべての意図またはエンティティに適用する必要がある場合は、フレーズ リストをグローバル フレーズ リストとしてマークします。 API では、`enabledForAllModels` フラグによって、このモデルのスコープが制御されます。

<a name="how-to-use-phrase-lists"></a>
<a name="how-to-use-a-phrase-lists"></a>
<a name="phrase-lists-help-identify-simple-exchangeable-entities"></a>

## <a name="a-model-as-a-feature-helps-another-model"></a>別のモデルの役に立つ特徴としてのモデル

モデル (意図またはエンティティ) を特徴として別のモデル (意図またはエンティティ) に追加できます。 既存の意図またはエンティティを特徴として追加することで、ラベル付けされた例を使用して明確に定義された概念が追加されます。

特徴としてのモデルを追加する場合、特徴を次のように設定できます。
* **[必須](#required-features)** 。 モデルを予測エンドポイントから返すには、必須の特徴が検出される必要があります。
* **[グローバル](#global-features)** 。 グローバル特徴はアプリ全体に適用されます。

### <a name="when-to-use-an-entity-as-a-feature-to-an-intent"></a>特徴としてのエンティティを意図に使用するタイミング

意図にとってあるエンティティの検出が重要である場合は、そのエンティティを特徴としてその意図に追加します。

たとえば、意図がフライトを予約すること (`BookFlight`) であり、エンティティがチケット情報 (座席番号、出発地、目的地など) である場合、チケット情報のエンティティを検索することで、`BookFlight` 意図の予測に重大な重みが追加されます。

### <a name="when-to-use-an-entity-as-a-feature-to-another-entity"></a>特徴としてのエンティティを別のエンティティに使用するタイミング

エンティティ (A) の検出が、エンティティ (B) の予測にとって重要である場合は、エンティティ (B) に対する特徴として、エンティティ (A) を追加する必要があります。

たとえば、n の配送先住所エンティティに 1 つの番地サブエンティティが含まれている場合、番地サブエンティティが検出されると、配送先住所エンティティの予測に重みが追加されます。

* 配送先住所 (機械学習エンティティ)
    * 番地の番号 (サブエンティティ)
    * 番地 (サブエンティティ)
    * 市区町村 (サブエンティティ)
    * 都道府県 (サブエンティティ)
    * 国/地域 (サブエンティティ)
    * 郵便番号 (サブエンティティ)

## <a name="nested-subentities-with-features"></a>特徴があり、入れ子になっているサブエンティティ

機械学習サブエンティティは、その親が別のサブエンティティであれ、最上位エンティティであれ、親エンティティに概念が存在することを示します。 サブエンティティの値は、その親の特徴として機能します。

サブエンティティには、特徴としてフレーズ リストとモデル (もう 1 つのエンティティ) の両方を与えることができます。

サブエンティティにフレーズ リストが与えられていると、概念の語彙が増えますが、予測の JSON 応答に情報が追加されることはありません。

サブエンティティに別のエンティティの特徴があるとき、JSON 応答にはその別のエンティティの抽出データが含まれます。

## <a name="required-features"></a>必須の特徴

モデルを予測エンドポイントから返すには、必須の特徴が検出される必要があります。 入力データが特徴と一致する必要があることがわかっている場合は、必須の特徴を使用します。

発話テキストと必須の特徴が一致しない場合、抽出されません。

**必須の特徴には機械学習されていないエンティティを使用します**。
* 正規表現エンティティ
* リスト エンティティ
* 事前構築済みのエンティティ

必須とマークするのに適した特徴は何でしょうか。 モデルがデータに含まれると確信している場合は、特徴を必須と設定します。 必須の特徴が見つからない場合は、何も返されません。

配送先住所の例を続けます。
* 配送先住所 (機械学習エンティティ)
    * 番地の番号 (サブエンティティ)
    * 番地 (サブエンティティ)
    * 通りの名前 (サブエンティティ)
    * 市区町村 (サブエンティティ)
    * 都道府県 (サブエンティティ)
    * 国/地域 (サブエンティティ)
    * 郵便番号 (サブエンティティ)

### <a name="required-feature-using-prebuilt-entities"></a>事前構築済みのエンティティを使用した必須の特徴

通常、市区町村、都道府県、国、リージョンは閉じたリストのセットです。つまり、時間の経過と共に大きく変化することはありません。 このようなエンティティは、関連する推奨の特徴を持つ可能性があります。また、それらの特徴に必須とマークすることができます。 つまり、必須の特徴を持つエンティティが見つからない場合は、配送先住所全体が返されません。

市区町村、都道府県、国、リージョンが発話に含まれ、LUIS で想定されていない場所にある場合、または俗語である場合はどうなるでしょうか。 LUIS の信頼スコアが低いために、エンティティの解決に役立つ後処理を用意する場合は、特徴に必須とマークしないでください。

配送先住所に必須の特徴の例をもう 1 つ挙げると、番地の番号を必須の[事前構築済みの](luis-reference-prebuilt-entities.md)番号にすることがあります。 これにより、ユーザーは"1 Microsoft Way" または "One Microsoft Way" を入力できます。 どちらも、番地の番号サブエンティティの番号が "1" に解決されます。

### <a name="required-feature-using-list-entities"></a>リスト エンティティを使用した必須の特徴

[リスト エンティティ](reference-entity-list.md)は、正規名のリストとして、そのシノニムと共に使用されます。 必須の特徴として、発話に正規名またはシノニムが含まれていない場合、予測エンドポイントの一部としてエンティティは返されません。

配送先住所の例を続けて、会社が限られた国またはリージョンにのみ配送しているとします。 顧客が国を参照するいくつかの方法を含むリスト エンティティを作成できます。 LUIS によって発話のテキスト内の正確な一致が検出されない場合、(リスト エンティティの必須の特徴を持つ) エンティティは予測で返されません。

|正規名|シノニム|
|--|--|
|United States|米国<br>U.S.A<br>US<br>米国<br>0|

国またはリージョンの選択が制限されており、"_必須_" であることを顧客が理解するように、チャット ボットなどのクライアント アプリケーションからはフォローの質問をすることができます。

### <a name="required-feature-using-regular-expression-entities"></a>正規表現エンティティを使用した必須の特徴

必須の特徴として使用される[正規表現エンティティ](reference-entity-regular-expression.md)には、豊富なテキスト照合機能があります。

配送先住所の例を続けて、国またはリージョンの郵便番号の構文規則を取り込む正規表現を作成することができます。

## <a name="global-features"></a>グローバル特徴

最も一般的な使用方法は特徴を特定のモデルに適用することですが、特徴を**グローバル特徴**として構成し、アプリケーション全体に適用することができます。

グローバル特徴の最も一般的な使用方法は、他の言語の単語などの語彙をアプリに追加することです。 顧客が第 1 言語を使用していても、同じ発話内で別の言語を使用する可能性があると想定される場合は、第 2 言語の単語を含む特徴を追加できます。

ユーザーは意図やエンティティ全体で第 2 言語を使用することを期待しているため、フレーズ リストをグローバル特徴として構成したフレーズ リストに追加する必要があります。

## <a name="best-practices"></a>ベスト プラクティス
[ベスト プラクティス](luis-concept-best-practices.md)を確認します。

## <a name="next-steps"></a>次のステップ

* 予測ランタイムにアプリ モデルを[拡張](schema-change-prediction-runtime.md)する
* [フィーチャーの追加](luis-how-to-add-features.md)に関するページで、フィーチャーを LUIS アプリに追加する方法の詳細を確認します。
