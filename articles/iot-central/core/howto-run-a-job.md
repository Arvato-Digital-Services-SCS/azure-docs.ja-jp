---
title: Azure IoT Central アプリケーションでデバイス を作成して実行する | Microsoft Docs
description: Azure IoT Central のジョブでは、プロパティの更新またはコマンドの実行などの一括デバイス管理機能。
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 03/03/2020
ms.topic: conceptual
manager: peterpr
ms.openlocfilehash: 8f982dbb10a15a1e02a62a97431cdd1b7015472c
ms.sourcegitcommit: e4c33439642cf05682af7f28db1dbdb5cf273cc6
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/03/2020
ms.locfileid: "78252235"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>Azure IoT Central アプリケーションでのジョブの作成と実行

Microsoft Azure IoT Central を使用して、ジョブを使用して大規模に接続されているデバイスを管理します。 ジョブを使用すると、デバイスのプロパティを一括更新してコマンドを実行することができます。 このアーティクルでは、お使いのアプリケーションでジョブの使用を開始する方法を説明します。

## <a name="create-and-run-a-job"></a>ジョブの作成と実行

このセクションでは、ジョブを作成して実行する方法について説明します。 ここでは、ロジスティック ゲートウェイ デバイスのグループのライトしきい値を設定する方法について説明します。

1. 左側のペインから **[ジョブ]** に移動します。

2. **[+ 新規]** を選択して新しいジョブを作成します。

    ![新しいジョブの作成](./media/howto-run-a-job/createnewjob.png)

3. 作成するジョブを識別するための名前と説明を入力します。

4. ジョブを適用するターゲットのデバイス グループを選択します。 ジョブ構成が適用されるデバイスの数は、 **概要** セクションで確認できます。

5. 次に、構成するジョブの種類として、**クラウド プロパティ**、**プロパティ** または **コマンド** のいずれかを選択します。 **プロパティ** のジョブ構成を設定するには、プロパティを選択し、新しい値を設定します。 **コマンド**を設定するには、実行するコマンドを選択します。 プロパティ ジョブでは、複数のプロパティを設定できます。

    ![ジョブを構成する](./media/howto-run-a-job/configurejob.png)

6. ジョブを作成したら、**実行** または **保存**を選択します。 ジョブがメインの **[ジョブ]** ページに表示されます。 このページで、現在実行中のジョブと以前実行または保存したジョブの履歴を表示することができます。 保存したジョブは、いつでももう一度開いて、編集を続けたり、実行したりすることができます。

    ![ジョブの表示](./media/howto-run-a-job/viewjob.png)

    > [!NOTE]
    > 以前に実行したジョブの 30 日間の履歴を表示できます。

7. ジョブの概要を取得するには、一覧から表示するジョブを選択します。 この概要には、ジョブの詳細、デバイス、デバイスの状態の値が含まれています。 この概要で **ジョブの詳細をダウンロード** を選択して、デバイスやその状態の値など、ジョブの詳細の CSV ファイルをダウンロードすることもできます。 この情報は、トラブルシューティングに役立つことがあります。

    ![デバイスの状態を表示する](./media/howto-run-a-job/downloaddetails.png)

### <a name="manage-a-job"></a>ジョブの管理

実行中のジョブのいずれかを停止するには、ジョブを開き、**停止**を選択します。 ジョブが停止されたことを反映するように、ジョブの状態が変更されます。 **概要** セクションには、完了、失敗、または保留中のデバイスが表示されます。

現在、停止されているジョブを実行するには、停止されたジョブを選択してから、 **実行**を選択します。 ジョブがもう一度実行されていることを反映するように、ジョブの状態が変更されます。 **概要** セクションは、引き続き最新の進行状況で更新されます。

![ジョブを管理する](./media/howto-run-a-job/managejob.png)

## <a name="copy-a-job"></a>ジョブをコピーする

既存のジョブのいずれかをコピーするには、**ジョブ** ページで選択してから、 **コピー**を選択します。 ジョブ構成のコピーが開き、編集することができます。また **コピー** がジョブ名に追加されます。 新しいジョブを保存または実行できます。

![ジョブのコピー](./media/howto-run-a-job/copyjob.png)

## <a name="view-the-job-status"></a>ジョブの状態を表示する

ジョブが作成されたら、 **[状態]** 列は、ジョブの最新のステータス メッセージで更新されます。 可能な状態の値を次の表に示します。

| ステータス メッセージ       | ステータスの意味                                          |
| -------------------- | ------------------------------------------------------- |
| 完了            | このジョブはすべてのデバイスで実行されました。              |
| 失敗               | このジョブは失敗し、デバイスで完全には実行されませんでした。  |
| 保留中              | このジョブはデバイスでまだ実行が開始されていません。         |
| 実行中              | このジョブはデバイスで実行中です。             |
| 停止済み              | このジョブはユーザーによって手動で停止されました。           |

ステータス メッセージには、ジョブ内のデバイスの概要が続きます。 可能なデバイスの状態の値を次の表に示します。

| ステータス メッセージ       | ステータスの意味                                                     |
| -------------------- | ------------------------------------------------------------------ |
| 成功            | ジョブが正常に実行されたデバイスの数。       |
| 失敗               | ジョブの実行に失敗したデバイスの数。       |

### <a name="view-the-device-status"></a>デバイスの状態を表示する

ジョブの状態と影響を受けるすべてのデバイスを表示するには、ジョブを開きます。 デバイスの一覧やその状態の値など、ジョブの詳細を含む CSV ファイルをダウンロードするには、**ジョブの詳細をダウンロード** を選択します。 各デバイス名の隣に、次のステータス メッセージのいずれかが表示されます。

| ステータス メッセージ       | ステータスの意味                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| 完了            | このデバイスで、ジョブが実行されました。                                     |
| 失敗               | このデバイスでのジョブの実行に失敗しました。 エラー メッセージに詳細情報が表示されます。  |
| 保留中              | このデバイスで、ジョブがまだ実行されていません。                                   |

> [!NOTE]
> デバイスが削除されている場合、デバイスを選択することはできません。 デバイス ID と共に「削除済み」と表示されます。

## <a name="next-steps"></a>次のステップ

ここでは、Azure IoT Central アプリケーションでジョブを作成する方法について説明しました。次の手順は以下のとおりです。

- [デバイスの管理](howto-manage-devices.md)
- [バージョン、デバイス テンプレート](howto-version-device-template.md)
